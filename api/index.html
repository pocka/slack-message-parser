
    <!DOCTYPE html>
    <html lang="en-US">
      <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Security-Policy" content="default-src 'self';frame-src https://codesandbox.io;style-src https://pocka.github.io/slack-message-parser/styles.css https://rsms.me/inter/ https://cdn.jsdelivr.net/npm/hack-font@3.3.0/;font-src https://rsms.me/inter/ https://cdn.jsdelivr.net/npm/hack-font@3.3.0/" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link href="https://rsms.me/inter/inter.css" rel="stylesheet" /><link href="https://cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack-subset.css" rel="stylesheet" />
<title>API | slack-message-parser</title>
        <link rel="stylesheet" href="/slack-message-parser/styles.css" />
      </head>
      <!--
        This site is generated using nano-jsx SSR, lightning-css, remark/rehype, Prism, and Deno.
        Source code at https://github.com/pocka/slack-message-parser/tree/master/docs/site/
      -->
      <body>
        <div class="layout__logo-wrapper  layout__header"><a class="layout__logo" href="/slack-message-parser/">slack<br />message<br />parser</a></div><nav class="layout__nav  layout__header"><ul class="nav__list"><li><a class="nav__link" href="/slack-message-parser/">Intro</a></li><li><a class="nav__link" href="/slack-message-parser/installation/">Install</a></li><li><a class="nav__link" href="/slack-message-parser/api/">API</a></li><li><a class="nav__link" href="/slack-message-parser/examples/">Examples</a></li><li><a class="nav__link" href="https://github.com/pocka/slack-message-parser">GitHub</a></li></ul></nav><div class="layout__header-fill  layout__header"></div><aside class="layout__toc"><div class="toc__root"><nav class="toc"><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h1"><a class="toc-link toc-link-h1" href="#api">API</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#function-parsemessage">function parse(message)</a><ol class="toc-level toc-level-3"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#arguments">Arguments</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#returns">Returns</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#interface-node">interface Node</a><ol class="toc-level toc-level-3"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#root-node">Root node</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#text-node">Text node</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#channellink-node">ChannelLink node</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#userlink-node">UserLink node</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#url-node">URL node</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#command-node">Command node</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#emoji-node">Emoji node</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#pretext-node">PreText node</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#code-node">Code node</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#italicboldstrikequote-node">Italic/Bold/Strike/Quote node</a></li></ol></li></ol></li></ol></nav></div></aside><main class="layout__main"><div class="markdown__root"><h1 id="api">API</h1>
<h2 id="function-parsemessage"><code>function parse(message)</code></h2>
<p>Parses Slack message and returns a tree (<a href="#interface-node"><code>Node</code></a>).</p>
<h3 id="arguments">Arguments</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>message</td>
<td>String</td>
<td>a Slack message to parse</td>
</tr>
</tbody>
</table>
<h3 id="returns">Returns</h3>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Root</td>
<td>A root node of the parsed message tree</td>
</tr>
</tbody>
</table>
<h2 id="interface-node"><code>interface Node</code></h2>
<p>Represents each parts of the message, its type and properties.</p>
<p>Every node at least have one property, <code>type</code>.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Number(NodeType)</td>
<td>Type of the node</td>
</tr>
<tr>
<td>source</td>
<td>String</td>
<td>Raw string of the node</td>
</tr>
</tbody>
</table>
<p>You can test the type with <code>NodeType</code> object (which is actually TypeScript enum).</p>
<pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">NodeType</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">"slack-message-parser"</span><span class="token punctuation">;</span>

<span class="token keyword control-flow">switch</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span><span class="token property-access">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token maybe-class-name">NodeType</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Text</span></span><span class="token operator">:</span>
  <span class="token comment">// ...</span>
  <span class="token keyword">case</span> <span class="token maybe-class-name">NodeType</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ChannelLink</span></span><span class="token operator">:</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The names of Node and NodeType are one-to-one equivalent (e.g. <code>Text</code> node have <code>type</code> property that the value is <code>NodeType.Text</code>).</p>
<h3 id="root-node"><code>Root</code> node</h3>
<p>A node sits on top of the tree. Every parse result have this node as its root node.</p>
<h4 id="properties">Properties</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>children</td>
<td>Node[]</td>
<td>Child nodes</td>
</tr>
</tbody>
</table>
<h3 id="text-node"><code>Text</code> node</h3>
<p>Texts.</p>
<h4 id="properties-1">Properties</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>text</td>
<td>String</td>
<td>Text content</td>
</tr>
</tbody>
</table>
<h3 id="channellink-node"><code>ChannelLink</code> node</h3>
<p>Link to a channel.</p>
<h4 id="properties-2">Properties</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>channelID</td>
<td>String</td>
<td>An ID of the channel</td>
</tr>
<tr>
<td>label</td>
<td>Node[] | undefined</td>
<td>Display texts for the link</td>
</tr>
</tbody>
</table>
<h3 id="userlink-node"><code>UserLink</code> node</h3>
<p>Link to a user.</p>
<h4 id="properties-3">Properties</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>userId</td>
<td>String</td>
<td>An ID of the user</td>
</tr>
<tr>
<td>label</td>
<td>Node[] | undefined</td>
<td>Display texts for the user</td>
</tr>
</tbody>
</table>
<h3 id="url-node"><code>URL</code> node</h3>
<p>Link other than channels and users (e.g. <code>https://foo.bar</code>, <code>mailto:foo@bar</code>).</p>
<h4 id="properties-4">Properties</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>String</td>
<td>A link url</td>
</tr>
<tr>
<td>label</td>
<td>Node[] | undefined</td>
<td>Display texts for the link</td>
</tr>
</tbody>
</table>
<h3 id="command-node"><code>Command</code> node</h3>
<p>Special commands like <code>&#x3C;!date></code>, <code>&#x3C;!everyone></code>, <code>&#x3C;!subteam^id|@handle></code>, and more.
For more details, please refer <a href="https://api.slack.com/docs/message-formatting">Formatting messages | Slack</a>.</p>
<h4 id="properties-5">Properties</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>String</td>
<td>A name of the command</td>
</tr>
<tr>
<td>arguments</td>
<td>String[]</td>
<td>Command arguments(prefixed by <code>^</code>, <code>ID</code> is an argument of <code>&#x3C;!subteam^ID></code>)</td>
</tr>
<tr>
<td>label</td>
<td>Node[] | undefined</td>
<td>Display texts for the link</td>
</tr>
</tbody>
</table>
<h3 id="emoji-node"><code>Emoji</code> node</h3>
<p>Emojis!</p>
<h4 id="properties-6">Properties</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>String</td>
<td>A name of the emoji (the text between both <code>:</code>s)</td>
</tr>
<tr>
<td>variation</td>
<td>String | undefined</td>
<td>Emoji variation, currently <code>skin-tone-</code> only</td>
</tr>
</tbody>
</table>
<h3 id="pretext-node"><code>PreText</code> node</h3>
<p>Code block. Multi-line codes.</p>
<h4 id="properties-7">Properties</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>text</td>
<td>String</td>
<td>Text content</td>
</tr>
</tbody>
</table>
<h3 id="code-node"><code>Code</code> node</h3>
<p>Inline code.</p>
<h4 id="properties-8">Properties</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>text</td>
<td>String</td>
<td>Text content</td>
</tr>
</tbody>
</table>
<h3 id="italicboldstrikequote-node"><code>Italic</code>/<code>Bold</code>/<code>Strike</code>/<code>Quote</code> node</h3>
<p>Represents text decorations. Each nodes just have decoration information, so it acts as container (does not hold texts directly).</p>
<h4 id="properties-9">Properties</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>children</td>
<td>Node[]</td>
<td>Child nodes</td>
</tr>
</tbody>
</table></div></main>
        
      </body>
    </html>
  